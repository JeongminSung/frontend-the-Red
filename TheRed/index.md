# Back to Basics

## 정확한 용어

- 영어 원문, 발음을 제대로 알아둡시다.

1. 정확한 용어를 알고 있는건 상식의 척도가 된다.
2. 영어 번역의 문제
   ex) Unobtrusive JavaScript = "웹 페이지가 자바스크립트에 대해 가지는 의존도를 줄이고, 사용성을 높이기 위해 자바스크립트를 적소에만 사용하는 것"
   즉 자바스크립트를 사용하지 않은 페이지에서도 적제적소에 자바스크립트를 사용해 사용성에 문제가 없이 만드는 것
3. 자료 검색 의 측면에서 정확한 언어로 검색한다면 정보의 질이 달라진다.
4. 해외 취업의 기회: 평상시에도 올바른 원문과 영어를 익힌다면 소통에 막힘이 적다.

## 명확한 근거

모든 주장에는 구체적인 근거가 필요하다

## 웹브라우저

- 프로그래밍과 직접적인 상관이 없어 보일 수도 있겠지만, 플랫폼이 어떻게 돌아가는지 잘 알아야 좋은 소프트웨어를 만들 수 있다.
- 웹브라우저를 잘 알아야 좋은 성능의 동작을 제어할 수 있다.

## 브라우저 주요 구성 요소

1. 사용자 인터페이스 : 브라우저에서 말하는 사용자 인터페이스는 화면에서 웹페이지를 제외한 나머지 사용자 인터렉티브 영역이다. (주소표시줄, 북마크 등)
2. 브라우저 엔진 : 사용자 인터페이스와 렌더링 엔진의 다리 역할을 한다.
   ㄴ> 데이터 저장소 : 쿠키, 파일 등의 데이터를 저장하는 부분
3. 렌더링 엔진 : 실질적으로 웹 페이지를 표현하는 부분. HTML, CSS, JS를 읽고, 해석하여, 화면에 그리는 역할이다.
   1. 통신 : http 요청과 같은 네트워크 호출에 사용된다.
   2. JS 해석기
   3. UI 백엔드

- 더 자세한 공부 : 네이버[브라우저는 어떻게 동작하는가(2011)] / 구글웹개발자[모던 웹 브라우저 들여다보기(2018)]

## 렌더링 엔진의 동작 과정

위 과정은 점진적으로 진행한다. 마치 에자일 스프린트처럼 더 나은 사용자 경험을 위해 어느정도 모였을 때 바로바로 표시를 한다.

1. HTML, CSS, JS 파싱
   : 문서를 읽어 브라우저가 문법을 분석, 코드를 이해한다.
     <script>태그를 만나면 JS를 해석할 때까지 파싱을 멈춘다.
     왜? : JavaScript는 document.write() 라는 메소드를 사용해서 문서의 구성에 영향을 줄 수 있기 때문에
          일단 멈추고 자바스크립트를 다 해석하고 파싱을 완료한 뒤 다음 동작을 실행한다.
     방법 : <script>태그를 맨 아래에 두기 하지만 모던 웹 개발에서는 이 방법을 쓸 이유가 사라졌다.

2. DOM, CSSOM 변환
   : 브라우저의 메모리 안에 브라우저 안에서 사용할 수 있도록 객체적인 구조로 변환한다.
   이렇게 HTML문서를 변환한게 바로 익히 알던 DOM이다.
   자바스크립트에서 $('.class') 처럼 객체 접근을 할 수 있던 이유도 CSS도 CSSOM을 거쳐서 Object 모델로 변경하기 때문이다.
   CSSOM === CSS Object Model

3. 렌더 트리 구축
   : DOM과 CSSOM을 결합하여 화면에 그려낼 내용을 작성한다.
   즉, 어떤 엘리먼트에 어떤 스타일을 적용할 것인지 정해진다.

4. 렌더 트리 배치
   : 아직까지 실제로 화면에 그려낸 것은 아니지만, 그려지기 전 단계로 각 요소의 크리와 위치를 계산한다.(Layout 단계)

5. 렌더 트리 그리기
   : 요소를 식제로 픽셀로 변환하여 그린다. (Paint 단계, Rasterize) 이 단계 후에
   픽셀로 그려진 여러 레이어를 합성한다. (Compositing 단계)
   여기서 레이어는 우리가 알던 z-index 개념이 아니라, 브라우저 자체적으로 레이어를 단계적으로 구분한 레이어를 뜻한다.
   개발자 도구에서 확인 가능! 크롬개발자도구 -> setting -> 더보기? -> layers
   가능하면 레이어는 30개를 넘어가지 않도록 하는게 좋다. 넘어가게 되면 브라우저 성능이 저하된다.(참고용으로만 알아두자)
